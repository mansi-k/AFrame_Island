<!DOCTYPE html>
<html>
  <head>
    <title>Island</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alvinwan/aframe-low-poly@0.0.2/dist/aframe-low-poly.min.js"></script>
    <script src="./ocean.js"></script>
  </head>
  <body>
    <a-scene fog="type: linear; color: #D0EAF9; near:5; far:15">
      
      <a-sky></a-sky>
      
      <a-assets>
        <a-mixin id="foliage" geometry="primitive: cone; segments-height: 1; segments-radial:20; radius-bottom:0.3;" material="color:green;flat-shading: true;"></a-mixin>
        <a-mixin id="trunk" geometry="primitive: box; height:0.5; width:0.1; depth:0.1;" position="0 -0.5 0" material="color:brown;"></a-mixin>
      </a-assets>
      
      <a-entity light="type: directional; castShadow: true; intensity: 0.4; color: #D0EAF9;" position="5 3 1"></a-entity>
      
      <a-light intensity="0.8" type="ambient" position="1 1 1" color="#B4C5EC"></a-light>
      <a-light type="point" intensity="0.2" position="0 90 0" color="#FF440C"></a-light>
      
      <a-entity id="rig" position="0 -0.5 2">
        <a-camera wasd-controls look-controls></a-camera>
      </a-entity>
      
      <lp-cone class="iceberg" color="gray" segments-radial="5" segments-height="3" height="1" radius-top="0.15" radius-bottom="0.5" position="3 -0.1 -1.5" amplitude-variance="0.15"></lp-cone>
      <lp-cone class="iceberg" color="gray" segments-radial="7" segments-height="3" height="0.5" radius-top="0.25" radius-bottom="0.35" position="-3 -0.1 -0.5" amplitude-variance="0.10"></lp-cone>
      
      <a-cylinder class="iceberg" color="gray"  segments-radial="6" segments-height="1" height="0.5" radius="0.25" position="-5 -0.2 -3.5"></a-cylinder>
      
      <a-ocean depth="30" width="50" amplitude="0" amplitude-variance="0.1" speed="1.5" speed-variance="1" opacity="1" density="50"></a-ocean>
      <a-ocean depth="50" width="50" opacity="0.5" amplitude="0" amplitude-variance="0.15" speed="1.5" speed-variance="1" density="50"></a-ocean>
      
      <a-sphere scale="2 2 2" shadow position="0 -3.5 -1.5" radius="2" color="#DAA520">
        <a-entity position="0 1.5 0">

          <a-entity class="tree" shadow position="0 1.1 -0.2" rotation="-5 0 0">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.75 0.75 0.75" position="-0.5 0.9 0" rotation="0 -50 10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.75 0.75 0.75" position="0.5 0.9 0" rotation="0 -30 -10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.5 0.5 0.5" position="0.25 0.73 0.5" rotation="0 20 0">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.5 0.5 0.5" position="-0.2 0.73 0.5" rotation="-3 20 1">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.4 0.6 0.5" position="-0.7 0.75 0.3" rotation="0 10 10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>

          <a-entity class="tree" shadow scale="0.6 0.5 0.4" position="0.7 0.7 0.3" rotation="0 -10 -10">
            <a-entity mixin="foliage"></a-entity>
            <a-entity mixin="trunk"></a-entity>
          </a-entity>
          
          <a-entity class="bench" scale="0.8 0.8 0.8" position="0 0.39 0.8" rotation="0 0 0">
            <a-cylinder rotation="0 0 90" radius="0.1" height="0.5" theta-start="180" theta-length="180" color="gray">
              <a-plane rotation="0 90 0" height="0.5" width="0.2" color="gray"></a-plane>
            </a-cylinder>
            <a-cylinder position="0.18 -0.1 0" radius="0.04" rotation="90 0 0" height="0.2" color="brown"></a-cylinder>
            <a-cylinder position="-0.18 -0.1 0" radius="0.04" rotation="90 0 0" height="0.2" color="brown"></a-cylinder>
          </a-entity>

        </a-entity>
      </a-sphere>
    </a-scene>
  </body>
</html>
